td_dd: generated priv/static/swagger.json
td_dd: generated priv/static/swagger_cx.json
td_dd: generated priv/static/swagger_dq.json

12:48:16.304 [info]  Migrations already up
Excluding tags: [:test]
Including tags: [line: "245"]

implementation_params ->: %{
  "dataset" => [
    %{"structure" => %{"id" => 14080}},
    %{
      "clauses" => [%{"left" => %{"id" => 14863}, "right" => %{"id" => 4028}}],
      "structure" => %{"id" => 3233}
    }
  ],
  "goal" => 100,
  "implementation_key" => "a1",
  "minimum" => 50,
  "result_type" => "percentage",
  "rule_id" => 47649,
  "segmentations" => [
    %{
      "operator" => %{"name" => "empty", "value_type" => nil},
      "population" => [],
      "structure" => %{"id" => 12554},
      "value" => [],
      "value_modifier" => []
    }
  ],
  "validations" => [
    %{
      "operator" => %{"name" => "gt", "value_type" => "timestamp"},
      "structure" => %{"id" => 12554},
      "value" => [%{"raw" => "2019-12-02 05:35:00"}]
    }
  ]
}
result imp ->: %TdDq.Implementations.Implementation{
  __meta__: #Ecto.Schema.Metadata<:loaded, "rule_implementations">,
  dataset: [
    %TdDq.Implementations.DatasetRow{
      alias: nil,
      clauses: [],
      join_type: nil,
      structure: %TdDq.Implementations.Structure{id: 14080, parent_index: nil}
    },
    %TdDq.Implementations.DatasetRow{
      alias: nil,
      clauses: [
        %TdDq.Implementations.JoinClause{
          left: %TdDq.Implementations.Structure{id: 14863, parent_index: nil},
          right: %TdDq.Implementations.Structure{id: 4028, parent_index: nil}
        }
      ],
      join_type: nil,
      structure: %TdDq.Implementations.Structure{id: 3233, parent_index: nil}
    }
  ],
  deleted_at: nil,
  df_content: nil,
  df_name: nil,
  domain_id: 1,
  executable: true,
  goal: 100.0,
  id: 34231,
  implementation_key: "a1",
  implementation_type: "default",
  inserted_at: ~U[2022-04-20 10:48:17Z],
  minimum: 50.0,
  populations: [],
  raw_content: nil,
  result_type: "percentage",
  results: [],
  rule: %TdDq.Rules.Rule{
    __meta__: #Ecto.Schema.Metadata<:loaded, "rules">,
    active: false,
    business_concept_id: 1,
    deleted_at: nil,
    description: %{"document" => "Rule Description"},
    df_content: nil,
    df_name: nil,
    domain: nil,
    domain_id: 1,
    id: 47649,
    inserted_at: ~N[2022-04-20 10:48:17],
    name: "rule_name1",
    rule_implementations: #Ecto.Association.NotLoaded<association :rule_implementations is not loaded>,
    rule_results: #Ecto.Association.NotLoaded<association :rule_results is not loaded>,
    updated_at: ~N[2022-04-20 10:48:17],
    updated_by: 1,
    version: 1
  },
  rule_id: 47649,
  segmentations: [
    %TdDq.Implementations.ConditionRow{
      modifier: nil,
      operator: %TdDq.Implementations.Operator{
        name: "empty",
        value_type: nil,
        value_type_filter: nil
      },
      population: [],
      structure: %TdDq.Implementations.Structure{id: 12554, parent_index: nil},
      value: [],
      value_modifier: []
    }
  ],
  updated_at: ~U[2022-04-20 10:48:17Z],
  validations: [
    %TdDq.Implementations.ConditionRow{
      modifier: nil,
      operator: %TdDq.Implementations.Operator{
        name: "gt",
        value_type: "timestamp",
        value_type_filter: nil
      },
      population: [],
      structure: %TdDq.Implementations.Structure{id: 12554, parent_index: nil},
      value: [%{"raw" => "2019-12-02 05:35:00"}],
      value_modifier: []
    }
  ]
}
response ->: %{
  "_actions" => %{"link_concept" => %{"method" => "POST"}},
  "data" => %{
    "dataset" => [
      %{
        "alias" => nil,
        "clauses" => [],
        "structure" => %{
          "external_id" => nil,
          "id" => 14080,
          "metadata" => nil,
          "name" => "",
          "path" => [],
          "system" => nil,
          "type" => nil
        }
      },
      %{
        "alias" => nil,
        "clauses" => [
          %{
            "left" => %{
              "external_id" => nil,
              "id" => 14863,
              "metadata" => nil,
              "name" => "",
              "path" => [],
              "system" => nil,
              "type" => nil
            },
            "right" => %{
              "external_id" => nil,
              "id" => 4028,
              "metadata" => nil,
              "name" => "",
              "path" => [],
              "system" => nil,
              "type" => nil
            }
          }
        ],
        "structure" => %{
          "external_id" => nil,
          "id" => 3233,
          "metadata" => nil,
          "name" => "",
          "path" => [],
          "system" => nil,
          "type" => nil
        }
      }
    ],
    "deleted_at" => nil,
    "df_content" => nil,
    "df_name" => nil,
    "domain_id" => 1,
    "executable" => true,
    "goal" => 100.0,
    "id" => 34231,
    "implementation_key" => "a1",
    "implementation_type" => "default",
    "inserted_at" => "2022-04-20T10:48:17Z",
    "links" => [],
    "minimum" => 50.0,
    "populations" => [],
    "result_type" => "percentage",
    "results" => [],
    "rule" => %{
      "active" => false,
      "df_content" => nil,
      "df_name" => nil,
      "name" => "rule_name1"
    },
    "rule_id" => 47649,
    "segmentations" => [
      %{
        "operator" => %{"name" => "empty", "value_type" => nil},
        "structure" => %{
          "external_id" => nil,
          "id" => 12554,
          "metadata" => nil,
          "name" => nil,
          "path" => nil,
          "system" => nil,
          "type" => nil
        },
        "value" => []
      }
    ],
    "validations" => [
      %{
        "operator" => %{"name" => "gt", "value_type" => "timestamp"},
        "structure" => %{
          "external_id" => nil,
          "id" => 12554,
          "metadata" => nil,
          "name" => "",
          "path" => [],
          "system" => nil,
          "type" => nil
        },
        "value" => [%{"raw" => "2019-12-02 05:35:00"}]
      }
    ]
  }
}
.

Finished in 0.5 seconds (0.00s async, 0.5s sync)
34 tests, 0 failures, 33 excluded

Randomized with seed 591512
